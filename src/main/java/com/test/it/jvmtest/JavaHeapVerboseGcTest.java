package com.test.it.jvmtest;

import java.util.HashMap;
import java.util.Map;

/**
 * <<JVM_Troubleshooting_Guide.pdf>>
 *   VM arguments:
 *      -server -Xms1024m -Xmx1024m -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps =Xloggc:/home/caizh/gc.log
 *
 *   sysout:
 *   /usr/jdk/jdk1.8.0_73/bin/java -server -Xms1024m -Xmx1024m -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Xloggc:/home/caizh/gc.log -Didea.launcher.port=7533 -Didea.launcher.bin.path=/opt/idea-IC-145.258.11/bin -Dfile.encoding=UTF-8 -classpath /usr/jdk/jdk1.8.0_73/jre/lib/charsets.jar:/usr/jdk/jdk1.8.0_73/jre/lib/deploy.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/cldrdata.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/dnsns.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/jaccess.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/jfxrt.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/localedata.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/nashorn.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/sunec.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/sunjce_provider.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/sunpkcs11.jar:/usr/jdk/jdk1.8.0_73/jre/lib/ext/zipfs.jar:/usr/jdk/jdk1.8.0_73/jre/lib/javaws.jar:/usr/jdk/jdk1.8.0_73/jre/lib/jce.jar:/usr/jdk/jdk1.8.0_73/jre/lib/jfr.jar:/usr/jdk/jdk1.8.0_73/jre/lib/jfxswt.jar:/usr/jdk/jdk1.8.0_73/jre/lib/jsse.jar:/usr/jdk/jdk1.8.0_73/jre/lib/management-agent.jar:/usr/jdk/jdk1.8.0_73/jre/lib/plugin.jar:/usr/jdk/jdk1.8.0_73/jre/lib/resources.jar:/usr/jdk/jdk1.8.0_73/jre/lib/rt.jar:/home/caizh/github/testit/target/classes:/home/caizh/.m2/repository/cn/edu/hfut/dmic/webcollector/WebCollector/1.42/WebCollector-1.42.jar:/home/caizh/.m2/repository/com/googlecode/juniversalchardet/juniversalchardet/1.0.3/juniversalchardet-1.0.3.jar:/home/caizh/.m2/repository/org/jsoup/jsoup/1.6.3/jsoup-1.6.3.jar:/home/caizh/.m2/repository/junit/junit/4.8.2/junit-4.8.2.jar:/home/caizh/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar:/home/caizh/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/caizh/.m2/repository/commons-beanutils/commons-beanutils/1.6/commons-beanutils-1.6.jar:/home/caizh/.m2/repository/commons-logging/commons-logging/1.0/commons-logging-1.0.jar:/home/caizh/.m2/repository/commons-collections/commons-collections/3.2/commons-collections-3.2.jar:/home/caizh/.m2/repository/commons-pool/commons-pool/1.6/commons-pool-1.6.jar:/home/caizh/.m2/repository/commons-fileupload/commons-fileupload/1.2.2/commons-fileupload-1.2.2.jar:/home/caizh/.m2/repository/org/apache/commons/commons-compress/1.4/commons-compress-1.4.jar:/home/caizh/.m2/repository/org/tukaani/xz/1.0/xz-1.0.jar:/home/caizh/.m2/repository/org/apache/poi/poi-ooxml/3.8/poi-ooxml-3.8.jar:/home/caizh/.m2/repository/org/apache/poi/poi/3.8/poi-3.8.jar:/home/caizh/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.8/poi-ooxml-schemas-3.8.jar:/home/caizh/.m2/repository/org/apache/xmlbeans/xmlbeans/2.3.0/xmlbeans-2.3.0.jar:/home/caizh/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/caizh/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/caizh/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/caizh/.m2/repository/commons-net/commons-net/3.3/commons-net-3.3.jar:/home/caizh/.m2/repository/org/slf4j/slf4j-api/1.6.1/slf4j-api-1.6.1.jar:/home/caizh/.m2/repository/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar:/home/caizh/.m2/repository/org/slf4j/jul-to-slf4j/1.6.1/jul-to-slf4j-1.6.1.jar:/home/caizh/.m2/repository/org/slf4j/slf4j-simple/1.6.1/slf4j-simple-1.6.1.jar:/home/caizh/.m2/repository/log4j/log4j/1.2.16/log4j-1.2.16.jar:/home/caizh/.m2/repository/cglib/cglib/2.2/cglib-2.2.jar:/home/caizh/.m2/repository/asm/asm/3.1/asm-3.1.jar:/home/caizh/.m2/repository/org/javassist/javassist/3.14.0-GA/javassist-3.14.0-GA.jar:/home/caizh/.m2/repository/org/quartz-scheduler/quartz/2.1.1/quartz-2.1.1.jar:/home/caizh/.m2/repository/c3p0/c3p0/0.9.1.1/c3p0-0.9.1.1.jar:/home/caizh/.m2/repository/org/springframework/spring-core/3.2.0.RELEASE/spring-core-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-webmvc/3.2.0.RELEASE/spring-webmvc-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-web/3.2.0.RELEASE/spring-web-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-expression/3.2.0.RELEASE/spring-expression-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-aop/3.2.0.RELEASE/spring-aop-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/caizh/.m2/repository/org/springframework/spring-orm/3.2.0.RELEASE/spring-orm-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-jdbc/3.2.0.RELEASE/spring-jdbc-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-test/3.2.0.RELEASE/spring-test-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-context/3.2.0.RELEASE/spring-context-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-beans/3.2.0.RELEASE/spring-beans-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-tx/3.2.0.RELEASE/spring-tx-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/data/spring-data-redis/1.6.4.RELEASE/spring-data-redis-1.6.4.RELEASE.jar:/home/caizh/.m2/repository/org/springframework/spring-oxm/4.1.9.RELEASE/spring-oxm-4.1.9.RELEASE.jar:/home/caizh/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.13/jcl-over-slf4j-1.7.13.jar:/home/caizh/.m2/repository/org/springframework/spring-context-support/3.2.0.RELEASE/spring-context-support-3.2.0.RELEASE.jar:/home/caizh/.m2/repository/org/hibernate/hibernate-core/3.6.7.Final/hibernate-core-3.6.7.Final.jar:/home/caizh/.m2/repository/antlr/antlr/2.7.6/antlr-2.7.6.jar:/home/caizh/.m2/repository/org/hibernate/hibernate-commons-annotations/3.2.0.Final/hibernate-commons-annotations-3.2.0.Final.jar:/home/caizh/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.0-api/1.0.1.Final/hibernate-jpa-2.0-api-1.0.1.Final.jar:/home/caizh/.m2/repository/javax/transaction/jta/1.1/jta-1.1.jar:/home/caizh/.m2/repository/org/hibernate/hibernate-validator/4.2.0.Final/hibernate-validator-4.2.0.Final.jar:/home/caizh/.m2/repository/javax/validation/validation-api/1.0.0.GA/validation-api-1.0.0.GA.jar:/home/caizh/.m2/repository/org/hibernate/hibernate-proxool/3.6.7.Final/hibernate-proxool-3.6.7.Final.jar:/home/caizh/.m2/repository/proxool/proxool/0.8.3/proxool-0.8.3.jar:/home/caizh/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.4/jackson-core-asl-1.9.4.jar:/home/caizh/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.4/jackson-mapper-asl-1.9.4.jar:/home/caizh/.m2/repository/joda-time/joda-time/2.0/joda-time-2.0.jar:/home/caizh/.m2/repository/org/aspectj/aspectjweaver/1.6.10/aspectjweaver-1.6.10.jar:/home/caizh/.m2/repository/postgresql/postgresql/9.0-801.jdbc4/postgresql-9.0-801.jdbc4.jar:/home/caizh/.m2/repository/org/apache/httpcomponents/httpclient/4.2-alpha1/httpclient-4.2-alpha1.jar:/home/caizh/.m2/repository/org/apache/httpcomponents/httpcore/4.2-alpha2/httpcore-4.2-alpha2.jar:/home/caizh/.m2/repository/commons-codec/commons-codec/1.4/commons-codec-1.4.jar:/home/caizh/.m2/repository/org/apache/httpcomponents/httpmime/4.2-alpha1/httpmime-4.2-alpha1.jar:/home/caizh/.m2/repository/org/sitemesh/sitemesh/3.0-alpha-2/sitemesh-3.0-alpha-2.jar:/home/caizh/.m2/repository/org/freemarker/freemarker/2.3.18/freemarker-2.3.18.jar:/home/caizh/.m2/repository/org/snmp4j/snmp4j/1.10.1/snmp4j-1.10.1.jar:/home/caizh/.m2/repository/net/sf/opencsv/opencsv/2.3/opencsv-2.3.jar:/home/caizh/.m2/repository/com/google/guava/guava/11.0.1/guava-11.0.1.jar:/home/caizh/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/home/caizh/.m2/repository/org/apache/shiro/shiro-core/1.2.1/shiro-core-1.2.1.jar:/home/caizh/.m2/repository/org/apache/shiro/shiro-spring/1.2.1/shiro-spring-1.2.1.jar:/home/caizh/.m2/repository/org/apache/shiro/shiro-web/1.2.1/shiro-web-1.2.1.jar:/home/caizh/.m2/repository/org/liquibase/liquibase-core/2.0.5/liquibase-core-2.0.5.jar:/home/caizh/.m2/repository/ant-contrib/ant-contrib/1.0b3/ant-contrib-1.0b3.jar:/home/caizh/.m2/repository/ant/ant/1.5/ant-1.5.jar:/home/caizh/.m2/repository/org/apache/shiro/shiro-cas/1.2.2/shiro-cas-1.2.2.jar:/home/caizh/.m2/repository/org/jasig/cas/client/cas-client-core/3.2.1/cas-client-core-3.2.1.jar:/home/caizh/.m2/repository/org/apache/ant/ant/1.8.4/ant-1.8.4.jar:/home/caizh/.m2/repository/org/apache/ant/ant-launcher/1.8.4/ant-launcher-1.8.4.jar:/home/caizh/.m2/repository/org/apache/nutch/nutch/2.2.1/nutch-2.2.1.jar:/home/caizh/.m2/repository/com/ibm/icu/icu4j/4.0.1/icu4j-4.0.1.jar:/home/caizh/.m2/repository/org/apache/tika/tika-core/1.3/tika-core-1.3.jar:/home/caizh/.m2/repository/xerces/xercesImpl/2.9.1/xercesImpl-2.9.1.jar:/home/caizh/.m2/repository/xerces/xmlParserAPIs/2.6.2/xmlParserAPIs-2.6.2.jar:/home/caizh/.m2/repository/xalan/serializer/2.7.1/serializer-2.7.1.jar:/home/caizh/.m2/repository/oro/oro/2.0.8/oro-2.0.8.jar:/home/caizh/.m2/repository/com/google/code/crawler-commons/crawler-commons/0.2/crawler-commons-0.2.jar:/home/caizh/.m2/repository/org/mortbay/jetty/jetty-client/6.1.26/jetty-client-6.1.26.jar:/home/caizh/.m2/repository/org/mortbay/jetty/jetty-sslengine/6.1.26/jetty-sslengine-6.1.26.jar:/home/caizh/.m2/repository/org/mortbay/jetty/jetty-util5/6.1.26/jetty-util5-6.1.26.jar:/home/caizh/.m2/repository/org/apache/tomcat/catalina/6.0.29/catalina-6.0.29.jar:/home/caizh/.m2/repository/org/apache/tomcat/servlet-api/6.0.29/servlet-api-6.0.29.jar:/home/caizh/.m2/repository/org/apache/tomcat/juli/6.0.29/juli-6.0.29.jar:/home/caizh/.m2/repository/org/apache/tomcat/annotations-api/6.0.29/annotations-api-6.0.29.jar:/home/caizh/.m2/repository/org/apache/tomcat/tomcat-util/7.0.29/tomcat-util-7.0.29.jar:/home/caizh/.m2/repository/org/apache/tomcat/tomcat-juli/7.0.29/tomcat-juli-7.0.29.jar:/home/caizh/.m2/repository/org/apache/tomcat/tomcat-api/7.0.29/tomcat-api-7.0.29.jar:/home/caizh/.m2/repository/org/apache/tomcat/tomcat-servlet-api/7.0.29/tomcat-servlet-api-7.0.29.jar:/home/caizh/.m2/repository/net/sf/ehcache/ehcache/2.8.6/ehcache-2.8.6.jar:/home/caizh/.m2/repository/org/apache/zookeeper/zookeeper/3.4.8/zookeeper-3.4.8.jar:/home/caizh/.m2/repository/jline/jline/0.9.94/jline-0.9.94.jar:/home/caizh/.m2/repository/io/netty/netty/3.7.0.Final/netty-3.7.0.Final.jar:/home/caizh/.m2/repository/com/googlecode/ehcache-spring-annotations/ehcache-spring-annotations/1.1.2/ehcache-spring-annotations-1.1.2.jar:/home/caizh/.m2/repository/redis/clients/jedis/2.8.0/jedis-2.8.0.jar:/home/caizh/.m2/repository/org/apache/commons/commons-pool2/2.3/commons-pool2-2.3.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-annotations/2.7.2/hadoop-annotations-2.7.2.jar:/usr/jdk/jdk1.8.0_73/jre/../lib/tools.jar:/home/caizh/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/home/caizh/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/home/caizh/.m2/repository/xmlenc/xmlenc/0.52/xmlenc-0.52.jar:/home/caizh/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/home/caizh/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/caizh/.m2/repository/org/mortbay/jetty/jetty/6.1.26/jetty-6.1.26.jar:/home/caizh/.m2/repository/org/mortbay/jetty/jetty-util/6.1.26/jetty-util-6.1.26.jar:/home/caizh/.m2/repository/javax/servlet/jsp/jsp-api/2.1/jsp-api-2.1.jar:/home/caizh/.m2/repository/com/sun/jersey/jersey-core/1.9/jersey-core-1.9.jar:/home/caizh/.m2/repository/com/sun/jersey/jersey-json/1.9/jersey-json-1.9.jar:/home/caizh/.m2/repository/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar:/home/caizh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-impl-2.2.3-1.jar:/home/caizh/.m2/repository/org/codehaus/jackson/jackson-jaxrs/1.8.3/jackson-jaxrs-1.8.3.jar:/home/caizh/.m2/repository/org/codehaus/jackson/jackson-xc/1.8.3/jackson-xc-1.8.3.jar:/home/caizh/.m2/repository/com/sun/jersey/jersey-server/1.9/jersey-server-1.9.jar:/home/caizh/.m2/repository/net/java/dev/jets3t/jets3t/0.9.0/jets3t-0.9.0.jar:/home/caizh/.m2/repository/com/jamesmurty/utils/java-xmlbuilder/0.4/java-xmlbuilder-0.4.jar:/home/caizh/.m2/repository/commons-configuration/commons-configuration/1.6/commons-configuration-1.6.jar:/home/caizh/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar:/home/caizh/.m2/repository/commons-beanutils/commons-beanutils-core/1.8.0/commons-beanutils-core-1.8.0.jar:/home/caizh/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/home/caizh/.m2/repository/com/google/code/gson/gson/2.2.4/gson-2.2.4.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-auth/2.7.2/hadoop-auth-2.7.2.jar:/home/caizh/.m2/repository/org/apache/directory/server/apacheds-kerberos-codec/2.0.0-M15/apacheds-kerberos-codec-2.0.0-M15.jar:/home/caizh/.m2/repository/org/apache/directory/server/apacheds-i18n/2.0.0-M15/apacheds-i18n-2.0.0-M15.jar:/home/caizh/.m2/repository/org/apache/directory/api/api-asn1-api/1.0.0-M20/api-asn1-api-1.0.0-M20.jar:/home/caizh/.m2/repository/org/apache/directory/api/api-util/1.0.0-M20/api-util-1.0.0-M20.jar:/home/caizh/.m2/repository/org/apache/curator/curator-framework/2.7.1/curator-framework-2.7.1.jar:/home/caizh/.m2/repository/com/jcraft/jsch/0.1.42/jsch-0.1.42.jar:/home/caizh/.m2/repository/org/apache/curator/curator-client/2.7.1/curator-client-2.7.1.jar:/home/caizh/.m2/repository/org/apache/curator/curator-recipes/2.7.1/curator-recipes-2.7.1.jar:/home/caizh/.m2/repository/org/apache/htrace/htrace-core/3.1.0-incubating/htrace-core-3.1.0-incubating.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-hdfs/2.7.2/hadoop-hdfs-2.7.2.jar:/home/caizh/.m2/repository/commons-daemon/commons-daemon/1.0.13/commons-daemon-1.0.13.jar:/home/caizh/.m2/repository/io/netty/netty-all/4.0.23.Final/netty-all-4.0.23.Final.jar:/home/caizh/.m2/repository/org/fusesource/leveldbjni/leveldbjni-all/1.8/leveldbjni-all-1.8.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-yarn-common/2.7.2/hadoop-yarn-common-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-yarn-api/2.7.2/hadoop-yarn-api-2.7.2.jar:/home/caizh/.m2/repository/javax/xml/bind/jaxb-api/2.2.2/jaxb-api-2.2.2.jar:/home/caizh/.m2/repository/javax/xml/stream/stax-api/1.0-2/stax-api-1.0-2.jar:/home/caizh/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar:/home/caizh/.m2/repository/com/sun/jersey/jersey-client/1.9/jersey-client-1.9.jar:/home/caizh/.m2/repository/com/google/inject/guice/3.0/guice-3.0.jar:/home/caizh/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/caizh/.m2/repository/com/sun/jersey/contribs/jersey-guice/1.9/jersey-guice-1.9.jar:/home/caizh/.m2/repository/com/google/inject/extensions/guice-servlet/3.0/guice-servlet-3.0.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-mapreduce-client-jobclient/2.7.2/hadoop-mapreduce-client-jobclient-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-mapreduce-client-shuffle/2.7.2/hadoop-mapreduce-client-shuffle-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-yarn-server-nodemanager/2.7.2/hadoop-yarn-server-nodemanager-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-mapreduce-client-common/2.7.2/hadoop-mapreduce-client-common-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-yarn-client/2.7.2/hadoop-yarn-client-2.7.2.jar:/home/caizh/.m2/repository/org/apache/hadoop/hadoop-yarn-server-common/2.7.2/hadoop-yarn-server-common-2.7.2.jar:/home/caizh/.m2/repository/org/apache/avro/avro/1.8.0/avro-1.8.0.jar:/home/caizh/.m2/repository/com/thoughtworks/paranamer/paranamer/2.7/paranamer-2.7.jar:/home/caizh/.m2/repository/org/xerial/snappy/snappy-java/1.1.1.3/snappy-java-1.1.1.3.jar:/home/caizh/.m2/repository/org/apache/avro/avro-mapred/1.8.0/avro-mapred-1.8.0.jar:/home/caizh/.m2/repository/org/apache/avro/avro-ipc/1.8.0/avro-ipc-1.8.0.jar:/home/caizh/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar:/home/caizh/.m2/repository/org/mortbay/jetty/servlet-api/2.5-20081211/servlet-api-2.5-20081211.jar:/opt/idea-IC-145.258.11/lib/idea_rt.jar com.intellij.rt.execution.application.AppMain com.test.it.jvmtest.JavaHeapVerboseGcTest
 *   Java 8 HoSpot Verbose GC Test Program v1.0
 *   Map size: 3000000
 *   Map size: 1000000
 *   end of program!
 *
 *   Process finished with exit code 0

 *   /home/caizh/gc.log:
 *
 *   Java HotSpot(TM) 64-Bit Server VM (25.73-b02) for linux-amd64 JRE (1.8.0_73-b02), built on Jan 29 2016 17:39:45 by "java_re" with gcc 4.3.0 20080428 (Red Hat 4.3.0-8)
 *   Memory: 4k page, physical 8078920k(2967480k free), swap 8291324k(8291324k free)
 *   CommandLine flags: -XX:InitialHeapSize=1073741824 -XX:MaxHeapSize=1073741824 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC
 *   0.404: [GC (Allocation Failure) [PSYoungGen: 262144K->43518K(305664K)] 262144K->206318K(1005056K), 0.2042391 secs] [Times: user=0.41 sys=0.19, real=0.21 secs]
 *   0.718: [GC (System.gc()) [PSYoungGen: 211344K->43520K(305664K)] 374143K->370399K(1005056K), 0.2496404 secs] [Times: user=0.40 sys=0.11, real=0.25 secs]
 *   0.968: [Full GC (System.gc()) [PSYoungGen: 43520K->0K(305664K)] [ParOldGen: 326879K->368673K(699392K)] 370399K->368673K(1005056K), [Metaspace: 3077K->3077K(1056768K)], 1.2873468 secs] [Times: user=4.20 sys=0.02, real=1.29 secs]
 *   2.433: [GC (System.gc()) [PSYoungGen: 147466K->0K(305664K)] 516140K->368673K(1005056K), 0.0068048 secs] [Times: user=0.01 sys=0.00, real=0.00 secs]
 *   2.440: [Full GC (System.gc()) [PSYoungGen: 0K->0K(305664K)] [ParOldGen: 368673K->134376K(699392K)] 368673K->134376K(1005056K), [Metaspace: 3080K->3080K(1056768K)], 0.3226943 secs] [Times: user=0.97 sys=0.01, real=0.32 secs]
 *   Heap
 *   PSYoungGen      total 305664K, used 2621K [0x00000000eab00000, 0x0000000100000000, 0x0000000100000000)
 *   eden space 262144K, 1% used [0x00000000eab00000,0x00000000ead8f798,0x00000000fab00000)
 *   from space 43520K, 0% used [0x00000000fab00000,0x00000000fab00000,0x00000000fd580000)
 *   to   space 43520K, 0% used [0x00000000fd580000,0x00000000fd580000,0x0000000100000000)
 *   ParOldGen       total 699392K, used 134376K [0x00000000c0000000, 0x00000000eab00000, 0x00000000eab00000)
 *   object space 699392K, 19% used [0x00000000c0000000,0x00000000c833a2b8,0x00000000eab00000)
 *   Metaspace       used 3086K, capacity 4494K, committed 4864K, reserved 1056768K
 *   class space    used 327K, capacity 386K, committed 512K, reserved 1048576K
 *
 *
 * Created by caizh on 16-6-25.
 */
public class JavaHeapVerboseGcTest {

    private static Map<String, String> stringMap = new HashMap<>();

    public static void main(String[] args) {
        System.out.println("Java 8 HoSpot Verbose GC Test Program v1.0");

        String stringDataPrefix = "StringDataPrefix";

        // Load Java Heap with 3M java.lang.String instances
        for (int i = 0; i < 3000000; i++) {
            String newStringData = stringDataPrefix + i;
            stringMap.put(newStringData, newStringData);
        }

        System.out.println("Map size: " + stringMap.size());
        // Explicit GC!
        System.gc();

        for (int i = 0; i < 2000000; i++) {
            String newStringData = stringDataPrefix + i;
            stringMap.remove(newStringData);
        }

        System.out.println("Map size: " + stringMap.size());
        System.gc();
        System.out.println("end of program!");
    }
}
